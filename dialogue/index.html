<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>S. Norman Gee — Dialogue</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 24px; line-height: 1.6; }
    .langbar { display: flex; gap: 12px; flex-wrap: wrap; margin-bottom: 20px; }
    .langbar a { text-decoration: none; padding: 6px 10px; border-radius: 8px; border: 1px solid #ddd; }
    .langbar a[aria-current="page"] { border-color: #333; font-weight: 600; }
    .section { display: none; }
    .section.show { display: block; }
    .rtl { direction: rtl; unicode-bidi: isolate; }
    header h1 { margin: 0 0 6px 0; }
    .meta { color: #666; margin-bottom: 18px; }
  </style>
</head>
<body>
  <header>
    <nav class="langbar" id="langbar">
      <a href="#ar" id="link-ar">العربية</a>
      <a href="#en" id="link-en">English</a>
      <a href="#fr" id="link-fr">Français</a>
    </nav>
  </header>

  <div class="card">
  <h2>English</h2>
  <p>The original English version of the conversation</p>
  <a href="dialogue/dialogue-sng-english.html">Read English</a>
</div>

<div class="card">
  <h2>العربية</h2>
  <p>الحِوار مُترجَم إلى اللغة العربية</p>
  <a href="dialogue/dialogue-sng-arabic.html">اقرأ بالعربية</a>
</div>
<div class="card">
  <h2>Français</h2>
  <p>Traduction française fidèle du dialogue</p>
  <a href="dialogue/dialogue-sng-french.html">Lire en Français</a>
</div>
  
  <script>
    function show(lang) {
      ['ar','en','fr'].forEach(l => {
        const sec = document.getElementById('sec-' + l);
        const link = document.getElementById('link-' + l);
        if (sec) sec.classList.remove('show');
        if (link) link.removeAttribute('aria-current');
      });
      const active = ['ar','en','fr'].includes(lang) ? lang : 'en';
      document.getElementById('sec-' + active).classList.add('show');
      document.getElementById('link-' + active).setAttribute('aria-current','page');
      document.documentElement.setAttribute('lang', active);
    }
    function currentLangFromHash() {
      const h = (location.hash || '').replace('#','').toLowerCase();
      return ['ar','en','fr'].includes(h) ? h : null;
    }
    show(currentLangFromHash() || 'en');
    window.addEventListener('hashchange', () => { show(currentLangFromHash() || 'en'); });
  </script>
</body>
</html>
